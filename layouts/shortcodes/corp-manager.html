<style>
  #corp-tool {
    margin: 0 auto;
    text-align: left;
    padding: 1rem;
  }

  /* Section bands */
  #corp-tool .section-live {
    margin-top: 1.5rem;
    padding: 0.75rem 1rem 1rem;
    border-radius: 6px;
    border-left: 3px solid rgb(99 102 241);
    background: rgba(99, 102, 241, 0.06);
  }
  #corp-tool .section-label {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
  }

  /* Member table */
  #corpTable {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
  }
  #corpTable th {
    text-align: left;
    color: var(--text-secondary);
    font-size: 0.72rem;
    font-weight: 700;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    padding-bottom: 6px;
    border-bottom: 1px solid var(--border-color);
  }
  #corpTable td.num { text-align: center; }

  /* Tier / license / liquidated badges */
  .corp-badge {
    display: inline-block;
    padding: 1px 6px;
    border-radius: 4px;
    font-size: 0.72rem;
    font-weight: 700;
    letter-spacing: 0.04em;
    white-space: nowrap;
  }
  .liq-badge {
    display: inline-block;
    padding: 1px 6px;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.05em;
    background: rgba(248, 113, 113, 0.2);
    color: #f87171;
    margin-left: 5px;
  }

  /* Liquidated row */
  #corpTable tr.liquidated td {
    opacity: 0.45;
    text-decoration: line-through;
    text-decoration-color: #f87171;
  }
  #corpTable tr.liquidated td:last-child {
    text-decoration: none;
  }

  /* Inactive (not liquidated) */
  #corpTable tr.inactive td { opacity: 0.45; }

  /* Intel pill link */
  .intel-pill {
    display: inline-block;
    padding: 2px 10px;
    border-radius: 4px;
    background: rgba(99, 102, 241, 0.18);
    color: rgb(129 140 248);
    font-size: 0.78rem;
    font-weight: 600;
    text-decoration: none;
    white-space: nowrap;
    transition: background 0.15s;
  }
  .intel-pill:hover {
    background: rgba(99, 102, 241, 0.35);
    color: rgb(165 180 252);
  }
</style>

<div id="corp-tool" class="calculator">
  <div class="inputs">
    <div class="input-row">
      <span>Corporation Code:</span>
      <input id="corpCodeInput" type="text" placeholder="e.g. OOG" />
    </div>
    <div class="input-row">
      <label><input id="showInactiveCheckbox" type="checkbox" checked /> Show inactive users</label>
    </div>
    <div class="input-row">
      <label><input id="showChurnCheckbox" type="checkbox" /> Calculate the very intensive churn charts</label>
    </div>
    <button id="fetchCorpButton">Fetch</button>
  </div>

  <div id="corpStatus" class="tool-status"></div>

  <div id="reportSection" class="mt-6">
    <h2 class="text-xl font-semibold mb-2">Corp Overview</h2>
    <div id="reportContainer" class="w-full h-[820px] rounded-lg overflow-hidden border border-gray-600"></div>
  </div>

  <div class="section-live" style="display:none" id="memberSection">
    <div class="section-label">Members</div>
    <div style="overflow-x:auto">
      <table id="corpTable">
        <thead>
          <tr>
            <th>User</th>
            <th>Company</th>
            <th>Code</th>
            <th class="num">Planets</th>
            <th>Rating</th>
            <th>Tier</th>
            <th>License</th>
            <th class="num">Days/Wk</th>
            <th>Last Online</th>
            <th class="num">Age (days)</th>
            <th></th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <div id="churnSection" class="mt-6">
    <h2 class="text-xl font-semibold mb-2">Churn Overview</h2>
    <div id="churnContainer" class="w-full rounded-lg overflow-hidden border border-gray-600"></div>
  </div>

</div>

<script type="module" src="/corp-manager.js"></script>
